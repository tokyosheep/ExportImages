/*! For license information please see main.min.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("react-dom")},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(4),o=n(1),c=n(2),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],c=0,l=o.length;c<l;c++,a++)r[a]=o[c];return r},i={extensions:{jpg:!1,psd:!1,tiff:!1,png:!1,gif:!1,eps:!1},options:{isResize:!1,size:1e3,resolution:72,quality:12,allOpened:!1,mergeLay:!1,saveTrans:!1,convertsRGB:!1},moreOptions:{asAnotherFile:!1,eachFolder:!1,export:!1},moreOptionsExt:{jpg:!1,psd:!1,tiff:!1,png:!1,gif:!1,eps:!1},folder:""},s=[],f=[],p=Object(c.combineReducers)({PSReducer:function(e,t){switch(void 0===e&&(e=i),t.type){case"SETPROP":return(n=l({},e))[t.arg.obj][t.arg.prop]=t.arg.value,n;case"SETJSON":return l({},t.arg.json);case"SETFOLDER":var n,r=t.arg.folder;return(n=l({},e)).folder=r,n;default:return e}},LoadingState:function(e,t){switch(void 0===e&&(e=!1),t.type){case"off":return!1;case"on":return!0;default:return e}},AIReplaceReducer:function(e,t){switch(void 0===e&&(e=s),t.type){case"SETLIST":return t.arg.list;default:return e}},AIPlacedImgs:function(e,t){switch(void 0===e&&(e=f),t.type){case"GETPLACED":return u(t.arg.list);case"SETCHECKED":var n=u(e);return n[t.arg.docIndex].placed[t.arg.imgIndex].checked=t.arg.value,n;default:return e}},PSModeReduce:function(e,t){switch(void 0===e&&(e="normal"),t.type){case"SETMODE":switch(t.arg.mode){case"normal":return"compact";case"compact":return"preset";case"preset":return"normal";default:return t.arg.mode}default:return e}}}),d=function(e){return{state:e}},m=function(e){return{type:"SETPROP",arg:{obj:e.obj,prop:e.prop,value:e.value}}},h=function(e){return{type:"SETJSON",arg:{json:e.json}}},b=function(e){return{type:"SETFOLDER",arg:{folder:e.folder}}},v=function(e){return{type:"SETMODE",arg:{mode:e.mode}}},y=function(){return{type:"on"}},E=function(){return{type:"off"}},g=function(e){return{type:"SETLIST",arg:{list:e.list}}},w=function(e){return{type:"GETPLACED",arg:{list:e.list}}},x=function(e){return{type:"SETCHECKED",arg:{docIndex:e.docIndex,imgIndex:e.imgIndex,value:e.value}}},S=function(e){return{set_On:function(){return e(y())},set_Off:function(){return e(E())},set_Prop:function(t,n,r){return e(m({obj:t,prop:n,value:r}))},set_Json:function(t){return e(h({json:t}))},set_Folder:function(t){return e(b({folder:t}))},set_Mode:function(t){return e(v({mode:t}))},set_List:function(t){return e(g({list:t}))},get_Placed:function(t){return e(w({list:t}))},set_Checked:function(t,n,r){return e(x({docIndex:t,imgIndex:n,value:r}))}}},_=function(e){var t=e.name,n=e.arg,a=e.func,o=e.value,c=e.disabled,l=void 0!==c&&c;return r.createElement("label",{className:"ExtCheckbox"},r.createElement("input",{type:"checkbox",className:"ExtCheckbox__input",checked:o,onChange:function(e){return a(e,n)},disabled:l}),r.createElement("div",{className:"ExtCheckbox__display"},t))},O=function(e){var t=e.name,n=e.arg,a=e.func,o=e.value,c=e.disabled,l=void 0!==c&&c;return r.createElement("label",{className:"StdCheckbox"},r.createElement("input",{type:"checkbox",className:"StdCheckbox__input",checked:o,onChange:function(e){return a(e,n)},disabled:l}),r.createElement("div",{className:"StdCheckbox__display"},t))},k={background:"linear-gradient(45deg,rgb(6, 16, 33),rgb(0, 20, 255),rgb(6, 16, 33))",width:"300px",height:"3px",display:"block"},j=Object(o.connect)(d,S)((function(e){var t=Object(r.useState)(e.state.PSReducer.extensions),n=t[0],a=t[1];Object(r.useMemo)((function(){a(e.state.PSReducer.extensions)}),[e.state.PSReducer.extensions]);var o=function(t,n){e.set_Prop("extensions",n.key,t.target.checked)},c=[];return Object.entries(n).forEach((function(e){var t=e[0],n=e[1];c.push(r.createElement("li",{key:t},r.createElement(_,{name:t,value:n,arg:{key:t},func:o})))})),r.createElement("header",{className:"PSheader"},r.createElement("h1",{className:"header-large"},"Export images"),r.createElement("div",{style:k}),r.createElement("ul",{className:"PSheader__exts"},c))})),P=function(e){var t=e.name,n=e.max,a=e.min,o=e.value,c=e.func,l=e.arg,u=e.disabled,i=void 0!==u&&u;return r.createElement("label",{className:"stdNumber"},r.createElement("p",null,t),r.createElement("input",{type:"number",className:"stdNumber__input",disabled:i,max:n,min:a,value:o,onChange:function(e){return c(e,l)}}))},N=function(e){var t=e.name,n=e.value,a=e.func,o=e.arg,c=e.disabled,l=void 0!==c&&c;return r.createElement("label",{className:"stdText"},r.createElement("p",null,t),r.createElement("input",{type:"text",className:"stdText__input",disabled:l,value:n,onChange:function(e){return a(e,o)}}))},R=Object(o.connect)(d,S)((function(e){var t=Object(r.useState)(e.state.PSReducer.options),n=t[0],a=t[1];Object(r.useMemo)((function(){a(e.state.PSReducer.options)}),[e.state.PSReducer.options]);var o=function(t,n){e.set_Prop("options",n.key,t.target.checked)},c=function(t,n){e.set_Prop("options",n.key,parseFloat(t.target.value))},l=[{name:"all opened",obj:n.allOpened,key:"allOpened"},{name:"convert sRGB(jpg)",obj:n.convertsRGB,key:"convertsRGB"},{name:"merge layer(tiff)",obj:n.mergeLay,key:"mergeLay"},{name:"save transfer(tiff)",obj:n.saveTrans,key:"saveTrans"}].map((function(e){return r.createElement("li",{key:e.name},r.createElement(O,{name:e.name,value:e.obj,arg:{key:e.key},func:o}))})),u=!n.isResize;return r.createElement("main",{className:"PSmain"},r.createElement("h2",{className:"head-small"},"options"),r.createElement(O,{name:"Resize",func:o,value:n.isResize,arg:{key:"isResize"}}),r.createElement("ul",{className:"PSmain__resizeForm"},r.createElement("li",null,r.createElement(P,{name:"size",disabled:u,value:n.size,func:c,max:9e4,min:1,arg:{key:"size"}})),r.createElement("li",null,r.createElement(P,{name:"resolution",disabled:u,value:n.resolution,func:c,max:1e3,min:1,arg:{key:"resolution"}})),r.createElement("li",null,r.createElement(P,{name:"quality(jpg)",value:n.quality,func:c,max:12,min:1,arg:{key:"quality"}}))),r.createElement("ul",{className:"PSmain__otherOptions"},l))})),T=function(e){var t=e.name,n=e.arg,a=e.func;return r.createElement("button",{className:"stdButton",onClick:function(){return a(n)}},t)},M=function(e){var t=e.name,n=e.arg,a=e.func;return r.createElement("button",{className:"largeButton",onClick:function(){return a(n)}},t)};const I=new CSInterface,C=I.getApplicationID(),F=VulcanMessage,A=VulcanInterface,L=(I.getExtensionID(),I.getSystemPath(SystemPath.EXTENSION)),G=(I.getSystemPath(SystemPath.EXTENSION),I.getSystemPath(SystemPath.EXTENSION)+"/jsx/"),J=(e,t)=>{I.resizeContent(e,t)};var q=function(){function e(e,t){this.jsx=e,this.arg=t}return e.prototype.callJsx=function(){var e=this;return new Promise((function(t,n){I.evalScript('$.evalFile("'+G+e.jsx+'")',(function(e){e&&"false"!==e||n(!1),t(e)}))}))},e.prototype.callHostScript=function(e){var t=this;return new Promise((function(n,r){I.evalScript(t.jsx+"("+JSON.stringify(e)+")",(function(e){e&&"false"!==e||r(!1),n(e)}))}))},e}(),D=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},z=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},B=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},$=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},H={border:"solid 1px #eeee00",display:"inline-block",padding:"10px 5px",marginTop:"15px"},X={background:"linear-gradient(45deg,rgb(30, 16, 6),rgb(200, 20, 15),rgb(30, 16, 6))",width:"200px",height:"3px"},V=Object(o.connect)(d,S)((function(e){var t=Object(r.useState)(e.state.PSReducer.moreOptions),n=t[0],a=t[1];Object(r.useMemo)((function(){return a(e.state.PSReducer.moreOptions)}),[e.state.PSReducer.moreOptions]);var o=Object(r.useState)(e.state.PSReducer.moreOptionsExt),c=o[0],l=o[1];Object(r.useMemo)((function(){return l(e.state.PSReducer.moreOptionsExt)}),[e.state.PSReducer.moreOptionsExt]);var u=function(t,n){e.set_Prop(n.obj,n.key,t.target.checked)},i=Object(r.useState)(e.state.PSReducer.folder),s=i[0],f=i[1];Object(r.useMemo)((function(){return f(e.state.PSReducer.folder)}),[e.state.PSReducer.folder]);var p=[];Object.entries(n).forEach((function(e){var t=e[0],n=e[1];p.push(r.createElement("li",{key:t},r.createElement(O,{name:t,value:n,func:u,arg:{key:t,obj:"moreOptions"}})))}));var d=[];Object.entries(c).forEach((function(e){var t=e[0],a=e[1];d.push(r.createElement("li",{key:t},r.createElement(_,{name:t,value:a,func:u,arg:{key:t,obj:"moreOptionsExt"},disabled:!n.export})))}));return r.createElement("aside",{className:"asideOptions"},r.createElement("div",{className:"asideOptions__basic"},r.createElement("h3",{className:"head-middle"},"save options"),r.createElement("div",{style:X}),r.createElement("ul",{className:"asideOptions__basic__List"},p)),r.createElement("div",{className:"asideOptions__folder"},r.createElement(T,{name:"folder",func:function(t){return B(void 0,void 0,void 0,(function(){var t;return $(this,(function(n){switch(n.label){case 0:return[4,D(void 0,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,new q("folderSelect.jsx").callJsx().catch((function(e){}))];case 1:return[2,e.sent()]}}))}))];case 1:return"string"!=typeof(t=n.sent())?[2,!1]:(e.set_Folder(t),[2])}}))}))}})),r.createElement("p",{style:H},s),r.createElement("div",{className:"asideOptions__extensions"},r.createElement("h3",{className:"head-small"}),r.createElement("ul",{className:"saveOptions__extensions__list"},d)))})),Y=function(){function e(e){this.app=e}return e.prototype.sendMsg=function(e){if(!this.isAppRun())return!1;var t=I.getExtensionID(),n=F.TYPE_PREFIX+t,r=new F(n);r.setPayload(JSON.stringify({obj:e,app:this.app})),A.dispatchMessage(r)},e.prototype.isAppRun=function(){return!!A.isAppRunning(this.app)||(I.evalScript('alert("'+this.app+" hasn't started yet\")"),!1)},e}(),K=function(e){return new Promise((function(t){var n=A.getPayload(e);t(JSON.parse(n))}))},W=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},Q=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},U=function(){return W(void 0,void 0,void 0,(function(){var e,t;return Q(this,(function(n){return e=I.getExtensionID(),t=F.TYPE_PREFIX+e,A.addMessageListener(t,(function(e){return t=e,W(void 0,void 0,void 0,(function(){var e;return Q(this,(function(n){switch(n.label){case 0:return[4,K(t)];case 1:return"photoshop"!==(e=n.sent()).app?[2]:[4,new q("PSfunc").callHostScript({images:e.obj,func:"openImages"}).catch((function(e){}))];case 2:return n.sent(),[2]}}))}));var t})),[2]}))}))},Z=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},ee=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},te=function(e){var t,n=e.moreOptions.export?e.moreOptionsExt:e.extensions;return function(e){var t=!1;return Object.values(e).forEach((function(e){e&&(t=!0)})),t}(n)?e.moreOptions.export&&(""===(t=e.folder)||null==t)?(alert("folder path is invalid"),!1):!n.jpg||!(e.options.quality>12||e.options.quality<1||isNaN(e.options.quality))||(alert("jpeg quality is invalid"),!1):(alert("you must check any extension"),!1)},ne=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},re=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ae=Object(o.connect)(d,S)((function(e){return r.createElement(M,{name:"done",func:function(){return ne(void 0,void 0,void 0,(function(){var t;return re(this,(function(n){switch(n.label){case 0:if(!te(e.state.PSReducer))return[2];e.set_On(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,new q("PSfunc").callHostScript({prop:e.state.PSReducer,func:"saveProcess"})];case 2:return n.sent(),[3,5];case 3:return t=n.sent(),alert(t),[3,5];case 4:return e.set_Off(),[7];case 5:return[2]}}))}))}})})),oe=Object(o.connect)(d,S)((function(e){var t=Object(r.useState)(e.state.PSModeReduce),n=t[0],a=t[1];Object(r.useMemo)((function(){return a(e.state.PSModeReduce)}),[e.state.PSModeReduce]);return r.createElement(M,{name:"switch mode",arg:{mode:n},func:function(t){e.set_Mode(t.mode)}})})),ce=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},le=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ue=Object(o.connect)(d,S)((function(e){return r.createElement("footer",{className:"footer mainButtonForm"},r.createElement("ul",null,r.createElement("li",null,r.createElement(M,{name:"send to Illustrator",func:function(){return ce(void 0,void 0,void 0,(function(){var e;return le(this,(function(t){switch(t.label){case 0:return[4,Z(void 0,void 0,void 0,(function(){var e;return ee(this,(function(t){switch(t.label){case 0:return[4,new q("getPSImages.jsx").callJsx().catch((function(e){}))];case 1:return"string"!=typeof(e=t.sent())?[2,!1]:[2,JSON.parse(e)]}}))}))];case 1:return e=t.sent(),Array.isArray(e)?(void 0===n&&(n="illustrator"),new Y(n).sendMsg(e),[2]):(alert("nothing"),[2,!1])}var n}))}))}})),r.createElement("li",null,r.createElement(ae,null)),r.createElement("li",null,r.createElement(oe,null))))})),ie=Object(o.connect)(d,S)((function(e){var t=Object(r.useState)(e.state.PSReducer),n=t[0],a=t[1];Object(r.useMemo)((function(){return a(e.state.PSReducer)}),[e.state.PSReducer]);var o=n.moreOptions.export,c=[];Object.entries(o?n.moreOptionsExt:n.extensions).forEach((function(e){var t=e[0],n=e[1];c.push(r.createElement("li",{key:t,className:n?"checkedOn":"checkedOff"},t))}));var l=[];Object.entries(n.options).forEach((function(e){var t=e[0],n=e[1];l.push(r.createElement("li",{key:t,className:n?"checkedOn":"checkedOff"},t,"number"==typeof n?" :"+n:""))}));var u=[];return Object.entries(n.moreOptions).forEach((function(e){var t=e[0],n=e[1];u.push(r.createElement("li",{key:t,className:n?"checkedOn":"checkedOff"},t))})),r.createElement("div",{className:"compactMode"},r.createElement("h3",{className:"head-small"},"extensions"),r.createElement("ul",{className:"compactMode__list"},c),r.createElement("h3",{className:"head-small"},"options"),r.createElement("ul",{className:"compactMode__list"},l),r.createElement("ul",{className:"compactMode__list"},u),r.createElement("ul",{className:"compactMode__buttons"},r.createElement("li",null,r.createElement(ae,null)),r.createElement("li",null,r.createElement(oe,null))))})),se=n(3),fe=function(e){return new Promise((function(t,n){se.readFile(e,"utf-8",(function(e,r){e&&n(e),t(r)}))}))},pe=function(e,t){return new Promise((function(n,r){se.writeFile(e,JSON.stringify(t),(function(e){e&&r(e),n(!0)}))}))},de=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},me=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},he=L+"/preset.json",be=function(){return de(void 0,void 0,void 0,(function(){var e;return me(this,(function(t){switch(t.label){case 0:return[4,fe(he).catch((function(e){}))];case 1:return"string"!=typeof(e=t.sent())?[2,!1]:[2,JSON.parse(e)]}}))}))},ve=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},ye=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ee=function(e){var t=[];return Object.entries(e).forEach((function(e){var n=e[0],a=e[1];t.push(r.createElement("li",{key:n,className:!0===a?"checkedOn":"checkedOff"},n," ","number"==typeof a?" :"+a:""))})),t},ge=Object(o.connect)(d,S)((function(){var e=Object(r.useState)([]),t=e[0],n=e[1];Object(r.useEffect)((function(){ve(void 0,void 0,void 0,(function(){var e;return ye(this,(function(t){switch(t.label){case 0:return[4,be()];case 1:return e=t.sent(),n(e),[2]}}))}))}),[]);var a=t.map((function(e){return r.createElement("li",{key:e.name},(n=Ee((t=e).extensions),a=Ee(t.options),o=Ee(t.moreOptions),r.createElement("div",{className:"jsonProp"},r.createElement("h3",{className:"head-small"},t.name),r.createElement("ul",{className:"jsonProp__exts"},n),r.createElement("ul",{className:"jsonProp__options"},a),r.createElement("ul",{className:"jsonProp__moreOptions"},o),r.createElement("p",null,"folder path :",t.folder))));var t,n,a,o}));return r.createElement("div",{className:"presetContainer"},r.createElement("ul",{className:"jsonList"},a),r.createElement(oe,null))})),we=Object(o.connect)(d,S)((function(e){var t=Object(r.useState)(!1),n=t[0],a=t[1];Object(r.useMemo)((function(){return a(e.state.LoadingState)}),[e.state.LoadingState]);var o={display:n?"block":"none"};return r.createElement("div",{className:"loading",style:o},r.createElement("h3",{className:"loading__title"},"loading..."),r.createElement("ul",{className:"loading__bars"},r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"}),r.createElement("li",{className:"loading__bars__li"})))})),xe=function(e){var t=e.jsonList,n=e.selected,a=e.func,o=t.map((function(e){return r.createElement("option",{key:e.name,value:e.name},e.name)}));return r.createElement("div",{className:"selector-wrap"},r.createElement("select",{className:"selector__select",value:n,onChange:function(e){return a(e)}},o))},Se=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},_e=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Oe=L+"/preset.json",ke=Object(o.connect)(d,S)((function(e){var t=Object(r.useState)([]),n=t[0],a=t[1],o=Object(r.useState)(""),c=o[0],l=o[1],u=Object(r.useState)("presetName"),i=u[0],s=u[1];Object(r.useEffect)((function(){Se(void 0,void 0,void 0,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,be()];case 1:return e=t.sent(),a(e),l(void 0!==e[0].name?e[0].name:""),[2]}}))}))}),[]);return r.createElement("div",{className:"presets"},r.createElement("h3",{className:"head-small"},"presets"),r.createElement(xe,{jsonList:n,selected:c,func:function(e){l(e.target.value)}}),r.createElement(N,{name:"pereset name",value:i,func:function(e){s(e.target.value)}}),r.createElement("ul",{className:"presetsForm"},r.createElement("li",null,r.createElement(T,{name:"apply",func:function(){return Se(void 0,void 0,void 0,(function(){var t,n,r;return _e(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,be()];case 1:if(t=a.sent(),void 0===(n=t.find((function(e){return e.name===c}))))throw Error("json data was undefined");return e.set_Json(n),[3,3];case 2:return r=a.sent(),alert(r),[2,!1];case 3:return[2]}}))}))}})),r.createElement("li",null,r.createElement(T,{name:"delete",func:function(){return Se(void 0,void 0,void 0,(function(){var e,t;return _e(this,(function(n){switch(n.label){case 0:return[4,be()];case 1:return e=n.sent(),t=e.filter((function(e){return e.name!==c})),[4,pe(Oe,t)];case 2:return n.sent(),a(t),alert("your preset was deleted"),l(void 0!==t[0].name?t[0].name:""),[2]}}))}))}})),r.createElement("li",null,r.createElement(T,{name:"add preset",func:function(){return Se(void 0,void 0,void 0,(function(){var t,n;return _e(this,(function(r){switch(r.label){case 0:return[4,be().catch((function(e){return alert(e)}))];case 1:return t=r.sent(),t.map((function(e){return e.name})).some((function(e){return e===i}))?(alert("the name was already registered"),[2,!1]):((n=e.state.PSReducer).name=i,t.push(n),[4,pe(Oe,t)]);case 2:return r.sent(),a(t),alert("your preset was registered"),[2]}}))}))}}))))})),je=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},Pe=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ne=Object(o.connect)(d,S)((function(e){var t,n=Object(r.useState)(e.state.PSModeReduce),a=n[0],o=n[1];switch(Object(r.useMemo)((function(){return o(e.state.PSModeReduce)}),[e.state.PSModeReduce]),window.scrollTo(0,0),a){case"normal":t=r.createElement(r.Fragment,null,r.createElement(j,null),r.createElement(R,null),r.createElement(V,null),r.createElement(ke,null),r.createElement(ue,null)),J(1e3,700);break;case"compact":t=r.createElement(ie,null),J(450,400);break;case"preset":t=r.createElement(ge,null),J(700,500)}return Object(r.useMemo)((function(){je(void 0,void 0,void 0,(function(){return Pe(this,(function(e){switch(e.label){case 0:return[4,U()];case 1:return e.sent(),[2]}}))}))}),[]),r.createElement("div",{className:"container-PS"},r.createElement(we,null),t)})),Re=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},Te=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Me=function(e){return Re(void 0,void 0,void 0,(function(){var t,n;return Te(this,(function(r){return t=I.getExtensionID(),n=F.TYPE_PREFIX+t,A.addMessageListener(n,(function(t){return function(e,t){return Re(void 0,void 0,void 0,(function(){var n;return Te(this,(function(r){switch(r.label){case 0:return[4,K(e)];case 1:return"illustrator"!==(n=r.sent()).app?[2,!1]:(t(n.obj),[2])}}))}))}(t,e)})),[2]}))}))},Ie=function(e){var t=e.name,n=e.func,a=e.arg,o=e.value;return r.createElement("label",{className:"stdRadio"},r.createElement("input",{type:"radio",className:"stdRadio__input",checked:o,onChange:function(e){return n(e,a)}}),t,r.createElement("div",{className:"stdRadio__display"}))},Ce=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],c=0,l=o.length;c<l;c++,a++)r[a]=o[c];return r},Fe=Object(o.connect)(d,S)((function(e){var t=function(t,n){var r=Ce(a);r.forEach((function(e){return e.checked=!1})),r[n.index].checked=!0,e.set_List(r)},n=Object(r.useState)(e.state.AIReplaceReducer),a=n[0],o=n[1];Object(r.useMemo)((function(){return o(e.state.AIReplaceReducer)}),[e]);var c=a.map((function(e,n){return r.createElement("li",{key:e.name},r.createElement(Ie,{name:e.name,value:e.checked,func:t,arg:{index:n}}))}));return r.createElement("main",{className:"AIMain"},r.createElement("ul",{className:"PSimageList"},c))})),Ae=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},Le=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ge=Object(o.connect)(d,S)((function(e){return r.createElement("header",{className:"AIheader"},r.createElement("h1",{className:"head-large"},"Export images"),r.createElement("ul",{className:"AIheader__mainButtons"},r.createElement("li",null,r.createElement(T,{name:"replace selected image",func:function(){return Ae(void 0,void 0,void 0,(function(){var t;return Le(this,(function(n){switch(n.label){case 0:return void 0===(t=e.state.AIReplaceReducer.find((function(e){return e.checked})))?(alert("please check image from photoshop"),[2,!1]):[4,(r=t.path,D(void 0,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,new q("AIFunc").callHostScript({image:r,func:"replaceSlected"})];case 1:return e.sent(),[2]}}))})))];case 1:return n.sent(),[2]}var r}))}))}})),r.createElement("li",null,r.createElement(T,{name:"send to Photoshop",func:function(){return Ae(void 0,void 0,void 0,(function(){var e,t;return Le(this,(function(n){switch(n.label){case 0:return[4,new q("getPlacedFullPath.jsx").callJsx().catch((function(e){}))];case 1:return"string"!=typeof(e=n.sent())?[2]:(t=JSON.parse(e),!Array.isArray(t)||t.length<1?[2,!1]:(void 0===r&&(r="photoshop"),new Y(r).sendMsg(t),[2]))}var r}))}))}}))))})),Je=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},qe=function(e,t){var n,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},De=Object(o.connect)(d,S)((function(e){return Object(r.useMemo)((function(){Je(void 0,void 0,void 0,(function(){return qe(this,(function(t){return J(500,300),(new CSInterface).addEventListener("com.adobe.csxs.events.WindowVisibilityChanged",()=>{location.reload(!0)},!1),Me(e.set_List),[2]}))}))}),[]),r.createElement("div",{className:"container-AI"},r.createElement(Ge,null),r.createElement(Fe,null))})),ze=function(){var e,t=Object(r.useState)(""),n=t[0],a=t[1];return Object(r.useEffect)((function(){return I.evalScript(`$.evalFile("${G}json2.js")`),I.evalScript(`$.evalFile("${G}getAllFiles.jsx")`),I.evalScript(`$.evalFile("${G}decodeStr.jsx")`),void("PHXS"==C&&I.evalScript(`$.evalFile("${G}saveFunc.jsx")`))}),[]),Object(r.useMemo)((function(){a(C)}),[C]),"ILST"===n&&(e=r.createElement(De,null)),"PHXS"==n&&(e=r.createElement(Ne,null)),r.createElement(r.Fragment,null,e)},Be=(n(5),Object(c.createStore)(p));a.render(r.createElement(o.Provider,{store:Be},r.createElement(ze,null)),document.getElementById("root"))}]);
//# sourceMappingURL=main.min.js.map